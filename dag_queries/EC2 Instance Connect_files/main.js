(()=>{var e,t,n,s={4663:(e,t,n)=>{"use strict";var s=n(961),r=n(1107),o=n(6540),a=n(5556),i=n.n(a),c=n(7856),l=n(3616);class d extends o.Component{static propTypes=(()=>({className:i().string,options:i().object,onBinary:i().func,onCursorMove:i().func,onData:i().func,onKey:i().func,onLineFeed:i().func,onScroll:i().func,onSelectionChange:i().func,onRender:i().func,onResize:i().func,onTitleChange:i().func,customKeyEventHandler:i().func}))();constructor(e){super(e),this.terminalRef=o.createRef(),this.onData=this.onData.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onKey=this.onKey.bind(this),this.onBinary=this.onBinary.bind(this),this.onLineFeed=this.onLineFeed.bind(this),this.onScroll=this.onScroll.bind(this),this.onSelectionChange=this.onSelectionChange.bind(this),this.onRender=this.onRender.bind(this),this.onResize=this.onResize.bind(this),this.onTitleChange=this.onTitleChange.bind(this),this.fitAddon=new l.FitAddon,this.setupTerminal()}setupTerminal(){this.terminal=new c.Terminal(this.props.options),[this.fitAddon].forEach((e=>{this.terminal.loadAddon(e)})),this.terminal.onBinary(this.onBinary),this.terminal.onCursorMove(this.onCursorMove),this.terminal.onData(this.onData),this.terminal.onKey(this.onKey),this.terminal.onLineFeed(this.onLineFeed),this.terminal.onScroll(this.onScroll),this.terminal.onSelectionChange(this.onSelectionChange),this.terminal.onRender(this.onRender),this.terminal.onResize(this.onResize),this.terminal.onTitleChange(this.onTitleChange),this.props.customKeyEventHandler&&this.terminal.attachCustomKeyEventHandler(this.props.customKeyEventHandler)}componentDidMount(){this.terminalRef.current&&(this.terminal.open(this.terminalRef.current),this.fitAddon.fit(),window.addEventListener("resize",(()=>{this.fitAddon.fit()})))}componentWillUnmount(){this.terminal.dispose()}onBinary(e){this.props.onBinary&&this.props.onBinary(e)}onCursorMove(){this.props.onCursorMove&&this.props.onCursorMove()}onData(e){this.props.onData&&this.props.onData(e)}onKey(e){this.props.onKey&&this.props.onKey(e)}onLineFeed(){this.props.onLineFeed&&this.props.onLineFeed()}onScroll(e){this.props.onScroll&&this.props.onScroll(e)}onSelectionChange(){this.props.onSelectionChange&&this.props.onSelectionChange()}onRender(e){this.props.onRender&&this.props.onRender(e)}onResize(e){this.props.onResize&&this.props.onResize(e)}onTitleChange(e){this.props.onTitleChange&&this.props.onTitleChange(e)}render(){return o.createElement("div",{className:this.props.className,ref:this.terminalRef,"data-analytics":"xterm","data-analytics-type":"funnel"})}}var u=n(989);(new u.TangerineBox).getEventTracker();var h=n(6902),m=n.n(h),p=n(5343),f=n.n(p);const E="connType",g="instanceId",y="osUser",I="sshPort",v="addressFamily",w="serialPort",C="instanceConnectEndpointId",x="privateIp",N="maxTunnelDuration",S="monitorMode",b="layout",A=[E,g],T=[y,I],R=[w],k=[w,S,b],_=[C,x,y,I];let D=function(e){return e.STANDARD="standard",e.SERIAL="serial",e.INSTANCE_CONNECT_ENDPOINT="eice",e}({}),U=function(e){return e.IPV4="ipv4",e.IPV6="ipv6",e}({}),P=function(e){return e.EN_US="en-us",e}({});const O=U.IPV4,F=[D.STANDARD,D.SERIAL,D.INSTANCE_CONNECT_ENDPOINT],L=[U.IPV4,U.IPV6],M=new RegExp("^(i-)([0-9a-zA-Z]){8,17}$"),H=new RegExp("^eice-[0-9a-fA-F]{1,17}$"),j=new RegExp("^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$"),V=(e,t)=>{const n=K(e,t);if(n.length>0)throw new Error(`Missing required query params: ${n.toString()}`)},K=(e,t)=>{const n=[];for(const s of t)e.has(s)||n.push(s);return n},z=e=>M.test(e),B=e=>H.test(e),W=e=>j.test(e),q=e=>e>=1&&e<=3600,$=e=>!0,G=e=>22===e,X=e=>0===e,Y=e=>Object.values(P).includes(e),Z=e=>L.includes(e),J=e=>{const t=new URLSearchParams(window.location.search).get(e);if(!t)throw new Error(`${e} query parameter not defined or empty.`);return t},Q=()=>{switch(J(E)){case D.SERIAL:return D.SERIAL;case D.INSTANCE_CONNECT_ENDPOINT:return D.INSTANCE_CONNECT_ENDPOINT;case D.STANDARD:default:return D.STANDARD}},ee=()=>J(g),te=()=>J(I),ne=()=>new URLSearchParams(window.location.search).get(v)||O,se=()=>J(C),re=()=>{try{return"true"===J(S)}catch{return!1}},oe=()=>{try{const e=J(b);if(Y(e))return e}catch{}return P.EN_US},ae=()=>new URLSearchParams(window.location.search).get(N)||"3600",ie=()=>{const e=new URLSearchParams(window.location.search);for(const t of e.keys())if("oneClickV1Redirect".toLowerCase()===t.toLowerCase())return!0;return!1},ce=()=>window.location.href.includes("us-west-2.awsc-integ.aws.amazon.com")&&re();let le;const de=()=>le,ue="console-instance-id",he="console-instance-ip-address",me="console-terminal-loader-status",pe=JSON.parse('{"alerts":{"error":{"text":"Error"},"warning":{"text":"Warning"}},"console":{"refresh":{"text":"Content refreshed"},"loaded":{"text":"Content loaded"}},"hostKeyVerification":{"header":{"text":"Host Key Verification","note":"Title of host key verification modal"},"message":{"text":"WARNING: Your EC2 instance host key has changed. Either someone is eavesdropping on you (man-in-the-middle attack) or your system administrator changed the host key. The fingerprint for the instance {1} is \\n{2}. Before connecting, contact your system administrator to verify if they changed the host key. Are you sure you want to continue connecting? (yes/no)","note":"Note to customer to accept host key or deny it."}},"clientSideStorageFailed":{"header":{"text":"Client Side Storage Failed","note":"Title of client side storage failure modal"},"message":{"text":"ERROR: Something went wrong while trying to access the host key fingerprint from your browser storage. We were unable to verify the host key fingerprint. The host key fingerprint from the EC2 instance {1} is \\n{2}. \\nDo you want to connect to the instance? (yes/no)","note":"Note to customer to trust host key or deny it."}},"modal":{"closeButtonAriaLabel":{"text":"Close modal"}},"flashbar":{"info":{"text":"Info"},"closeButtonAriaLabel":{"text":"Close"},"accessibilityHeader":{"text":"Keyboard shortcut"},"accessibilityContent":{"text":"To tab out of the terminal window and select the next button element, press the left and right Shift keys together."},"closePermanentlyButton":{"text":"Close permanently"}},"instanceInfo":{"publicIps":{"text":"PublicIPs: {1}"},"privateIps":{"text":"PrivateIPs: {1}"},"closeButton":{"text":"Close instance info"},"ipv6Addresses":{"text":"IPv6Addresses: {1}"}},"statusMessages":{"initializeSession":{"text":"Initializing Session"},"establishConnection":{"text":"Establishing Connection ..."},"unableToEstablishConnection":{"text":"Failed To Establish Connection"},"error":{"text":"Error occurred while establishing connection"}},"errors":{"default":{"text":"Something went wrong. Try again later."},"AccessDeniedException":{"text":"Access denied by EC2 Instance Connect. Either your AWS credentials are not valid or you do not have access to the EC2 instance."},"BackendConnectionError":{"text":"EC2 Instance Connect is unable to connect to your instance. Ensure your instance network settings are configured correctly for EC2 Instance Connect. For more information, see EC2 Instance Connect Prerequisites at https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-connect-prerequisites.html."},"EC2InstanceNotFoundException":{"text":"The specified instance was not found."},"EC2InstanceMalformedException":{"text":"The specified instance ID is invalid."},"EC2InstanceStateInvalidException":{"text":"Unable to connect to the instance because the instance is not in a valid state. Connecting to a stopped or terminated instance is not supported. If the instance is stopped, start your instance, and try to connect again."},"EC2InstanceTypeInvalidException":{"text":"The instance type is not supported for connecting via the serial console. Only virtualized Nitro instance types are currently supported."},"EC2InstancePrivateIpv6Exception":{"text":"Connecting to a private IPv6 address is not supported. Ensure your instance has a public IPv6 address."},"DescribeIpv6UnauthorizedException":{"text":"Access denied. Either your AWS credentials are not valid or you are not authorized to perform the DescribeInstances or DescribeVpcs operation. For more information, see Grant IAM permissions for EC2 Instance Connect at https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-instance-connect-configure-IAM-role.html."},"EC2InstanceIpv6AddressNotFoundException":{"text":"Unable to connect because the public IPv6 address was not found. Ensure that the instance has a public IPv6 address assigned to the primary network interface."},"SerialConsoleAccessDisabledException":{"text":"Your account is not authorized to use the EC2 serial console. To authorize your account, run the EnableSerialConsoleAccess API."},"SerialConsoleSessionLimitExceededException":{"text":"The instance currently has 1 active serial console session. Only 1 session is supported at a time."},"SerialConsoleSessionUnavailableException":{"text":"Unable to start a serial console session. Try again later."},"ThrottlingException":{"text":"The requests were made too frequently and have been throttled. Wait a while and try again. To increase the limit on your request frequency, contact AWS Support."},"EICKeyPushError":{"text":"SendSSHPublicKey failed. Try again later."},"ISCKeyPushError":{"text":"SendSerialConsoleSSHPublicKey failed. Try again later."},"SSHConnectionError":{"text":"Error establishing SSH connection to your instance. Try again later."},"WasmGenerateKeyError":{"text":"Failed to generate an ephemeral public key to use for your instance. Try again later."},"WSConnectionError":{"text":"Failed connecting to your instance. Try again later."},"CallerRejectedHostKeyError":{"text":"Terminated the SSH handshake because you rejected the server\'s public host key."},"InstanceConnectWasmCspNotSupported":{"text":"EC2 Instance Connect is supported on Safari version 16.0 or higher."},"SerialConsoleWasmCspNotSupported":{"text":"EC2 Serial Console is supported on Safari version 16.0 or higher."},"InvalidInstanceConnectEndpointIdMalformedException":{"text":"The specified Instance Connect Endpoint ID is not valid. Specify an ID in the form eice-xxxxxxxxxxxxxxxxx. Update your request and try again."},"InvalidInstanceConnectEndpointIdNotFoundException":{"text":"The specified Instance Connect Endpoint ID does not exist."},"ServerInternalException":{"text":"DescribeInstanceConnectEndpoints failed. Try again later."},"ServiceUnavailableException":{"text":"DescribeInstanceConnectEndpoints is unavailable. Try again later."},"UnauthorizedException":{"text":"Access denied. Either your AWS credentials are not valid or you are not authorized to perform DescribeInstanceConnectEndpoints operation."},"DescribeEiceError":{"text":"The specified Instance Connect Endpoint does not exist or is not in create-complete state."}}}'),fe=o.createContext(Object.assign({},pe));var Ee=n(3010);const ge=e=>{let t=e.instanceId;return e.instanceName&&(t=`${e.instanceId} (${e.instanceName})`),o.createElement("h3",{"data-integ":ue,"data-testid":ue},t)},ye=e=>{const t=(0,o.useContext)(fe);return e.loading||e.error?o.createElement(ge,{instanceId:e.instanceId,instanceName:e.instanceName}):o.createElement(Ee.A,null,o.createElement("div",{"data-analytics":"instance-info","data-analytics-type":"eventContext"},o.createElement(ge,{instanceId:e.instanceId,instanceName:e.instanceName,"data-analytics":"instance-info-instance-id","data-analytics-type":"eventDetail"}),o.createElement("p",{"data-integ":he,"data-testid":he,"data-analytics":"instance-info-ips","data-analytics-type":"eventDetail"},e.publicIps&&e.publicIps.length>0&&o.createElement(o.Fragment,null,o.createElement("span",null,t.instanceInfo.publicIps.text.replace("{1}",e.publicIps.join(", "))),"    "),e.privateIps&&e.privateIps.length>0&&o.createElement(o.Fragment,null,o.createElement("span",null,t.instanceInfo.privateIps.text.replace("{1}",e.privateIps.join(", "))),"    "),e.ipv6Addresses&&e.ipv6Addresses.length>0&&o.createElement("span",null,t.instanceInfo.ipv6Addresses.text.replace("{1}",e.ipv6Addresses.join(", "))))))},Ie=()=>{const[e]=(0,o.useState)(ee()),{response:t,loading:n,errorMessage:s}=(e=>{const[t,n]=(0,o.useState)(),[s,r]=(0,o.useState)(!0),[a,i]=(0,o.useState)(""),c=(0,o.useCallback)((()=>{r(!0),de().EC2.describeInstances({InstanceIds:[e]}).promise().then((e=>{n(e),i(""),r(!1)})).catch((e=>{n(void 0),i((e=>e?`${e.code?e.code:e.name} - ${void 0===e.message||null===e.message||""===e.message?"An error has occurred":e.message}${e.requestId?` (requestId ${e.requestId})`:""}`:"")(e)),r(!1)}))}),[]);return(0,o.useEffect)((()=>{c()}),[e]),{response:t,loading:s,errorMessage:a}})(e),r=(e=>{const t={publicIps:[],privateIps:[],ipv6Addresses:[],instanceName:void 0};if(!e)return t;const n=e.Reservations&&e.Reservations[0].Instances;if(void 0===n||0===n.length)return t;const s=n[0],r=[],o=[],a=[];let i;if(s.NetworkInterfaces&&s.NetworkInterfaces.length>0){const e=s.NetworkInterfaces[0];e.Association&&e.Association.PublicIp&&r.push(e.Association.PublicIp),e.PrivateIpAddress&&o.push(e.PrivateIpAddress),e.Ipv6Addresses&&e.Ipv6Addresses.length>0&&e.Ipv6Addresses[0].Ipv6Address&&a.push(e.Ipv6Addresses[0].Ipv6Address)}return s.Tags&&s.Tags.length>0&&(i=(e=>{for(const t of e)if(t.Key&&"Name"===t.Key&&t.Value)return t.Value})(s.Tags)),{publicIps:r,privateIps:o,ipv6Addresses:a,instanceName:i}})(t);return o.createElement(ye,{loading:n,error:s,instanceId:e,instanceName:r.instanceName,publicIps:r.publicIps,privateIps:r.privateIps,ipv6Addresses:r.ipv6Addresses})};n(924);var ve=n(8424);class we{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de().EIC;this.eicClient=t,this.instanceId=e}async pushEicKey(e){try{return await this.eicClient.sendSSHPublicKey({SSHPublicKey:e,InstanceId:this.instanceId,InstanceOSUser:J(y)}).promise(),""}catch(e){return e.name}}async pushSerialKey(e){try{return await this.eicClient.sendSerialConsoleSSHPublicKey({SSHPublicKey:e,InstanceId:this.instanceId,MonitorMode:re(),Layout:oe()}).promise(),""}catch(e){return e.name}}}var Ce=n(1565),xe=n(7186);const Ne=async e=>{const t=e.getCredentials(),n=await fetch("/ec2-instance-connect/ssh/tb/creds",{headers:{"x-csrf-token":t.csrfToken},method:"POST"});return await n.json()};function Se(e){const t={"X-Amz-Algorithm":"AWS4-HMAC-SHA256"};t["X-Amz-Credential"]=e.key+"/"+Re(e.timestamp,e.region,e.service),t["X-Amz-Date"]=ke(e.timestamp),t["X-Amz-Expires"]=e.expires,t["X-Amz-Security-Token"]=e.sessionToken,t["X-Amz-SignedHeaders"]=Te(e.headers),Q()===D.INSTANCE_CONNECT_ENDPOINT?(t.instanceConnectEndpointId=e.query.instanceConnectEndpointId,t.maxTunnelDuration=e.query.maxTunnelDuration,t.privateIpAddress=e.query.privateIpAddress,t.remotePort=e.query.port):(t.instanceId=e.query.instanceId,t.port=e.query.port,Q()===D.STANDARD?t.addressFamily=e.query.addressFamily:e.query.monitorMode&&(t.monitorMode=e.query.monitorMode));const n=function(e,t,n,s,r){return[e.toUpperCase(),t,(o=n,Object.keys(o).sort().map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(o[e])})).join("&")),Ae(s),Te(s),be(r)].join("\n");var o}(e.method,e.path,t,e.headers,e.payload),s=(r=e.timestamp,o=e.region,a=e.service,i=n,["AWS4-HMAC-SHA256",ke(r),Re(r,o,a),De(i,"hex")].join("\n"));var r,o,a,i;const c=function(e,t,n,s,r){const o=Ce.createHmac("sha256","AWS4"+e).update(_e(t),"utf8").digest(),a=Ce.createHmac("sha256",o).update(n,"utf8").digest(),i=Ce.createHmac("sha256",a).update(s,"utf8").digest(),c=Ce.createHmac("sha256",i).update("aws4_request","utf8").digest();return Ce.createHmac("sha256",c).update(r,"utf8").digest("hex")}(e.secret,e.timestamp,e.region,e.service,s);return t["X-Amz-Signature"]=c,e.protocol+"://"+e.host+e.path+"?"+xe.stringify(t)}function be(e){return De(e,"hex")}function Ae(e){return Object.keys(e).sort().map((function(t){return t.toLowerCase().trim()+":"+e[t]+"\n"})).join("")}function Te(e){return Object.keys(e).sort().map((function(e){return e.toLowerCase().trim()})).join(";")}function Re(e,t,n){return[_e(e),t,n,"aws4_request"].join("/")}function ke(e){return new Date(e).toISOString().replace(/[:\-]|\.\d{3}/g,"")}function _e(e){return ke(e).substring(0,8)}function De(e,t){return Ce.createHash("sha256").update(e,"utf8").digest(t)}const Ue=async e=>{const t=ee();let n,s,r,o;const a=Q();if(a===D.STANDARD)n=te(),s="/proxy/instance-connect",r=ne();else{if(a!==D.SERIAL)throw new Error("Connection type invalid");n="22",s="/proxy/serial-console",o=ce()?re():void 0}const i=e.getCustomContext("region"),c=e.getCustomContext("proxyHost"),l=await Ne(e);return Se({method:"GET",host:c,path:s,service:"oneclickv2proxy",payload:"",key:l.accessKeyId,secret:l.secretAccessKey,sessionToken:l.sessionToken,protocol:"wss",timestamp:Date.now(),region:i,expires:60,query:{instanceId:t,port:n,addressFamily:r,monitorMode:o},headers:{Host:c}})};class Pe extends Error{constructor(e,t){super(t),this.name=e}}class Oe extends Pe{static errorName="WasmInitializeError";constructor(e){super(Oe.errorName,e)}}class Fe extends Pe{static errorName="WasmGenerateKeyError";constructor(e){super(Fe.errorName,e)}}class Le extends Pe{static errorName="EICKeyPushError";constructor(e){super(Le.errorName,e)}}class Me extends Pe{static errorName="ISCKeyPushError";constructor(e){super(Me.errorName,e)}}class He extends Pe{static errorName="SSHParameterError";constructor(e){super(He.errorName,e)}}class je extends Pe{static errorName="WSConnectionError";constructor(e){super(je.errorName,e)}}class Ve extends Pe{static errorName="SSHConnectionError";constructor(e){super(Ve.errorName,e)}}class Ke extends Pe{static errorName="AccessDeniedException";constructor(e){super(Ke.errorName,e)}}class ze extends Pe{static errorName="EC2InstanceNotFoundException";constructor(e){super(ze.errorName,e)}}class Be extends Pe{static errorName="EC2InstanceStateInvalidException";constructor(e){super(Be.errorName,e)}}class We extends Pe{static errorName="EC2InstanceTypeInvalidException";constructor(e){super(We.errorName,e)}}class qe extends Pe{static errorName="ServiceException";constructor(e){super(qe.errorName,e)}}class $e extends Pe{static errorName="SerialConsoleAccessDisabledException";constructor(e){super($e.errorName,e)}}class Ge extends Pe{static errorName="SerialConsoleSessionUnavailableException";constructor(e){super(Ge.errorName,e)}}class Xe extends Pe{static errorName="ThrottlingException";constructor(e){super(Xe.errorName,e)}}class Ye extends Pe{static errorName="SerialConsoleSessionLimitExceededException";constructor(e){super(Ye.errorName,e)}}class Ze extends Pe{static errorName="CallerRejectedHostKeyError";constructor(e){super(Ze.errorName,e)}}class Je extends Pe{static errorName="BackendConnectionError";constructor(e){super(Je.errorName,e)}}class Qe extends Pe{static errorName="SerialConsoleWasmCspNotSupported";constructor(e){super(Qe.errorName,e)}}class et extends Pe{static errorName="InstanceConnectWasmCspNotSupported";constructor(e){super(et.errorName,e)}}class tt extends Pe{static errorName="DescribeEiceError";constructor(e){super(tt.errorName,e)}}var nt=n(640);function st(e,t){const n=nt.parseCIDR(e),s=nt.parse(t);return n[0].kind===s.kind&&s.match(n)}class rt extends Pe{static errorName="EC2InstancePrivateIpv6Exception";constructor(e){super(rt.errorName,e)}}class ot extends Pe{static errorName="EC2InstanceIpv6AddressNotFoundException";constructor(e){super(ot.errorName,e)}}let at=function(e){return e.PUBLIC="public",e.PRIVATE="private",e}({});class it extends Pe{static errorName="DescribeIpv6Error";constructor(e){super(it.errorName,e)}}let ct=function(e){return e.INIT="init",e.ERROR="error",e.CONNECTION_ESTABLISHED="connectionEstablished",e}({});const lt=new ve.TangerineBox,dt=new Map([["WasmInitFailure",e=>new Oe(e)],["KeygenFailure",e=>new Fe(e)],["SignerFailure",e=>new Fe(e)],["AuthException",e=>new Ke(e)],["AccessDeniedException",e=>new Ke(e)],["BackendConnFailure",e=>new Je(e)],["EC2InstanceNotFoundException",e=>new ze(e)],["EC2InstanceStateInvalidException",e=>new Be(e)],["EC2InstanceTypeInvalidException",e=>new We(e)],["InvalidArgsException",e=>new qe(e)],["SerialConsoleAccessDisabledException",e=>new $e(e)],["SerialConsoleSessionLimitExceededException",e=>new Ye(e)],["SerialConsoleSessionUnavailableException",e=>new Ge(e)],["ServiceException",e=>new qe(e)],["ThrottlingException",e=>new Xe(e)],["EICKeyPushFailure",e=>new Le(e)],["ISCKeyPushFailure",e=>new Me(e)],["WSConnFailure",e=>new je(e)],["SSHConnFailure",e=>new Ve(e)],["SSHParamsFailure",e=>new He(e)],["CallerRejectedHostKeyError",e=>new Ze(e)],["InstanceConnectWasmCspNotSupported",e=>new et(e)],["SerialConsoleWasmCspNotSupported",e=>new Qe(e)]]),ut=()=>{const e=new we(ee());window.eicclient=e,mt();const t=new URL(window.location.href).searchParams.get("hostname");let n;return window.endHostname=t,n=Q()===D.INSTANCE_CONNECT_ENDPOINT?(async e=>{const t=await de().EC2.describeInstanceConnectEndpoints({InstanceConnectEndpointIds:[e]}).promise();if(t.InstanceConnectEndpoints&&1===t.InstanceConnectEndpoints.length&&"create-complete"===t.InstanceConnectEndpoints[0].State)return t.InstanceConnectEndpoints[0];throw new tt("Instance Connect Endpoint does not exist or is not in desired state")})(se()).then((e=>(async(e,t)=>{const n=J(x),s=te(),r=se(),o=ae(),a=e.getCustomContext("region"),i=t.DnsName;if(void 0===i)throw"Something went wrong";const c=await Ne(e);return Se({method:"GET",host:i,path:"/openTunnel",service:"ec2-instance-connect",payload:"",key:c.accessKeyId,secret:c.secretAccessKey,sessionToken:c.sessionToken,protocol:"wss",timestamp:Date.now(),region:a,expires:60,query:{instanceConnectEndpointId:r,maxTunnelDuration:o,privateIpAddress:n,port:s},headers:{Host:i}})})(lt,e))).catch((e=>{throw new tt(e.name)})):Q()===D.STANDARD&&ne()===U.IPV6?(async e=>{const t=await(async e=>{const t=await de().EC2.describeInstances({InstanceIds:[e]}).promise();if(t.Reservations&&1===t.Reservations.length&&t.Reservations[0].Instances&&1===t.Reservations[0].Instances.length)return t.Reservations[0].Instances[0];throw new qe("Unable to retrieve specified instance info")})(e),n=t.VpcId;if(void 0===n)throw new qe("Instance VPC ID was not found");if(t.NetworkInterfaces&&t.NetworkInterfaces.length>0){const e=t.NetworkInterfaces[0];if(e.Ipv6Addresses&&e.Ipv6Addresses.length>0&&e.Ipv6Addresses[0].Ipv6Address)return{ipv6Address:e.Ipv6Addresses[0].Ipv6Address,vpcId:n}}throw new ot("Instance IPv6 address was not found")})(ee()).then((e=>(async(e,t)=>{const n=await(async e=>{const t=await de().EC2.describeVpcs({VpcIds:[e]}).promise();if(t.Vpcs&&1===t.Vpcs.length)return t.Vpcs[0];throw new qe("Unable to retrieve specified VPC info")})(t);if(void 0===n.Ipv6CidrBlockAssociationSet||0===n.Ipv6CidrBlockAssociationSet.length)throw new qe("VPC IPv6 CIDR block associations were not found");for(let t of n.Ipv6CidrBlockAssociationSet){const n=t.Ipv6CidrBlock;if(n&&st(n,e)){if(t.Ipv6AddressAttribute===at.PRIVATE)throw new rt("Unable to connect to private IPv6 instance");return t.Ipv6AddressAttribute}}throw new qe("Unable to determine IPv6 address attribute")})(e.ipv6Address,e.vpcId))).catch((e=>{throw new it(e.name)})).then((()=>Ue(lt))):Ue(lt),n.then((e=>{window.proxyUrl=e;const t=lt.getCustomContext("wasmAssetPath"),n=lt.getCdnUrl(`${t}/main.wasm`),s=new Go;ht(n,s.importObject).then((e=>{s.run(e)}))}))},ht=async(e,t)=>fetch(e).then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,t))).then((e=>e.instance)),mt=()=>{const e=lt.getEventTracker();window.logInfoFrame=t=>{const n=JSON.parse(t);console.log(t),e.addEvent(n)}};var pt=n(7311),ft=n(5238),Et=n(8583),gt=n(3669),yt=n(5354);class It extends Pe{static errorName="ClientSideStorageError";constructor(e){super(It.errorName,e)}}class vt extends Pe{static errorName="ClientSideFetchError";constructor(e){super(vt.errorName,e)}}let wt,Ct,xt;const Nt=e=>{let{storageManager:t,instanceId:n}=e;const s="eic_oneclick_"+n+"_hostkey",r=o.useContext(fe),[a,i]=o.useState({visible:!1,storageFailure:!1}),[c,l]=o.useState({hostkey:"",hostkeyAlgo:""}),d=r.hostKeyVerification.message.text.replace("{1}",n).replace("{2}",c.hostkey),u=r.clientSideStorageFailed.message.text.replace("{1}",n).replace("{2}",c.hostkey),h=r.hostKeyVerification.header.text,m=r.clientSideStorageFailed.header.text;return window.validateHostKey=(e,t,n,s,r)=>{wt=n,Ct=s,xt=r,l({hostkey:e,hostkeyAlgo:t})},o.useEffect((()=>{if(""===c.hostkey||""===c.hostkeyAlgo)return;const e=Q();"standard"===e||"eice"===e?(async()=>{let e;try{e=await t.getHostKeys(s,c.hostkeyAlgo)}catch(e){return e instanceof vt?void i({visible:!0,storageFailure:!0}):void Ct()}if(void 0===e)try{return await t.storeHostKeys(s,c.hostkey,c.hostkeyAlgo),void wt()}catch(e){return e instanceof It?void i({visible:!0,storageFailure:!0}):void Ct()}e&&e.hostkey!==c.hostkey?i({visible:!0,storageFailure:!1}):wt()})():(()=>{const e=new ve.TangerineBox;(ce()?"SHA256:LLOTh0YkFkOz8MbJdPvecO14/D5UiCwKDpRdgngia2k":e.getCustomContext("serialConsoleHostKey"))!==c.hostkey?Ct():wt()})()}),[c]),a.visible?o.createElement(ft.A,{"data-testid":"hostkey-verification-modal","data-integ":"hostkey-verification-modal","data-analytics-render":!0,onDismiss:()=>{xt(),i({visible:!1,storageFailure:!1})},visible:a.visible,closeAriaLabel:r.modal.closeButtonAriaLabel.text,footer:o.createElement(Et.A,{float:"right"},o.createElement(gt.A,{direction:"horizontal",size:"xs"},o.createElement(yt.A,{"data-testid":"store-hostkey-button","data-integ":"store-hostkey-button",variant:"primary",onClick:async()=>{await t.storeHostKeys(s,c.hostkey,c.hostkeyAlgo),wt(),i({visible:!1,storageFailure:!1})}},"Yes"),o.createElement(yt.A,{"data-testid":"dismiss-button","data-integ":"dismiss-button",variant:"link",onClick:()=>{xt(),i({visible:!1,storageFailure:!1})}},"No"))),header:a.storageFailure?m:h},a.storageFailure?u:d):o.createElement(o.Fragment,null)};var St=n(3259);const bt=()=>{const e=(0,o.useContext)(fe);return o.createElement(o.Fragment,null,o.createElement("div",{className:"terminal-loader-container","data-analytics":"terminal-loader","data-analytics-type":"eventContext"},o.createElement("div",{className:"terminal-loader-center"},o.createElement("div",null,o.createElement(St.A,{className:"terminal-loader",size:"large"})),o.createElement(Et.A,{color:"inherit",variant:"h5",textAlign:"center","data-integ":me,"data-testid":me,"data-analytics":"terminal-loader-text","data-analytics-type":"eventDetail"},e.statusMessages.establishConnection.text))))};class At extends Error{static errorName="HostKeyFetchError"}var Tt=n(7577);const Rt={type:"warning",dismissible:!0,content:"You have been redirected to the latest browser-based EC2 Instance Connect experience. Please update your bookmark to this URL. The redirect from the old bookmark will not be supported in the near future.",statusIconAriaLabel:pe.alerts.warning.text,dismissLabel:pe.flashbar.closeButtonAriaLabel.text},kt=e=>{const t=o.useContext(fe),n=t.errors;let s=n.default.text;if(e.error instanceof Pe){const t=n[e.error.name];void 0!==t&&(s=t.text)}const r=[];ie()&&r.push(Rt),r.push({header:"Failed to connect to your instance",type:"error",content:s,dismissible:!1,statusIconAriaLabel:t.alerts.error.text});const a=(0,o.useRef)(null);return o.createElement("div",{className:"container","data-analytics-render":!0},o.createElement(Tt.A,{items:r}),o.createElement(d,{className:"terminal-container",ref:a}))};class _t extends Pe{static errorName="InvalidInstanceConnectEndpointIdNotFoundException";constructor(e){super(_t.errorName,e)}}class Dt extends Pe{static errorName="InvalidInstanceConnectEndpointIdMalformedException";constructor(e){super(Dt.errorName,e)}}class Ut extends Pe{static errorName="ServerInternalException";constructor(e){super(Ut.errorName,e)}}class Pt extends Pe{static errorName="ServiceUnavailableException";constructor(e){super(Pt.errorName,e)}}class Ot extends Pe{static errorName="EC2InstanceMalformedException";constructor(e){super(Ot.errorName,e)}}class Ft extends Pe{static errorName="DescribeIpv6UnauthorizedException";constructor(e){super(Ft.errorName,e)}}const Lt=new Map([[Oe.errorName,0],[Fe.errorName,0],[Le.errorName,0],[Me.errorName,0],[Ve.errorName,0],[je.errorName,0],[He.errorName,0],[At.errorName,0],[Ze.errorName,0],[It.errorName,0],[vt.errorName,0],[tt.errorName,0],[_t.errorName,0],[Dt.errorName,0],[Ut.errorName,0],[Pt.errorName,0],[Ot.errorName,0],[qe.errorName,0],[Ft.errorName,0],[rt.errorName,0],[ot.errorName,0]]),Mt=(new ve.TangerineBox).getEventTracker(),Ht=(0,o.createContext)({recordSuccessForCustomConsoleErrorMetrics:()=>{const e={overallConsoleErrorMetric:0,customMetricValue:{...Object.fromEntries(Lt)}};Mt.addEvent({tbCustomLog:e})}});class jt extends o.Component{constructor(e){super(e),this.state={error:null,errorInfo:null}}componentDidCatch(e,t){const n={...Object.fromEntries(Lt)};e instanceof Pe&&(n[e.name]=1);const s={overallConsoleErrorMetric:e instanceof Ze?0:1,customMetricValue:n,errMsg:e.message};Mt.addError({tbCustomLog:s}),this.setState({error:e,errorInfo:t.componentStack})}render(){return this.state.error?o.createElement(kt,{error:this.state.error}):this.props.children}}const Vt=jt;var Kt=n(3790);class zt{async getHostKeys(e,t){let n;try{return n=await Kt.getItem(e),(n||[]).find((e=>{let{algorithm:n}=e;return n===t}))}catch(e){throw new vt("Error fetching hostkey")}}async storeHostKeys(e,t,n){let s;try{s=await Kt.getItem(e)}catch(e){throw new It("Error fetching hostkey")}if(s){const r=s.find((e=>{let{algorithm:t}=e;return t===n}));if(r){r.hostkey=t;try{await Kt.setItem(e,s)}catch(e){throw new It("Error storing hostkey")}return}}else s=new Array;const r={hostkey:t,algorithm:n,addedDate:(new Date).toISOString()};s.push(r);try{await Kt.setItem(e,s)}catch(e){throw new It("Error storing hostkey")}}}var Bt=n(8468),Wt=n(556);let qt=function(e){return e.MALFORMED="InvalidInstanceConnectEndpointId.Malformed",e.NOT_FOUND="InvalidInstanceConnectEndpointId.NotFound",e.SERVER_INTERNAL="InternalError",e.SERVER_UNAVAILABLE="Unavailable",e.UNAUTHORIZED="UnauthorizedOperation",e.UNAUTHENTICATED="AuthFailure",e}({}),$t=function(e){return e.INSTANCE_MALFORMED="InvalidInstanceID.Malformed",e.INSTANCE_NOT_FOUND="InvalidInstanceID.NotFound",e.VPC_NOT_FOUND="InvalidVpcID.NotFound",e.SERVER_INTERNAL="InternalError",e.SERVER_UNAVAILABLE="Unavailable",e.UNAUTHORIZED="UnauthorizedOperation",e.UNAUTHENTICATED="AuthFailure",e.PRIVATE_IPV6="EC2InstancePrivateIpv6Exception",e.IPV6_ADDRESS_NOT_FOUND="EC2InstanceIpv6AddressNotFoundException",e}({});class Gt extends Pe{static errorName="AccessDeniedException";constructor(e){super(Gt.errorName,e)}}var Xt=n(5525);function Yt(){const e=(0,Bt.o0)();let t=!1;if(e&&e.name&&"safari"===e.name.toLowerCase()){t=!0;try{parseFloat(e.version||"0")>=16&&(t=!1)}catch(t){console.log("Unable to parse version from userAgent"),console.log(e)}}return t}const Zt=()=>{const[e]=o.useState(pe),[t,n]=o.useState(!1),s=(0,o.useContext)(Ht),r=ee(),a=(()=>{const[,e]=(0,o.useState)({});return(0,o.useCallback)((t=>{e((()=>{throw t}))}),[e])})(),i=(0,o.useRef)(null);(0,o.useEffect)((()=>{window.oneclickterm=i}),[i]);const[c,l]=(0,o.useState)({status:ct.INIT.toString(),wasmFailureStatus:"",statusMsg:""});(0,o.useEffect)((()=>{window.updateWasmStatus=function(e){l({status:e,wasmFailureStatus:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",statusMsg:arguments.length>2&&void 0!==arguments[2]?arguments[2]:""})}}),[l]);const{clearAndShowQueuedFlashMessages:u,queueFlashMessages:h}=(0,pt.fe)();(0,o.useEffect)((()=>{if(c.status.includes(ct.ERROR.toString())){if(h({type:"error",dismissible:!0,content:e.statusMessages.error.text,dismissLabel:e.flashbar.closeButtonAriaLabel.text,statusIconAriaLabel:e.statusMessages.error.text}),u(),dt.has(c.wasmFailureStatus))throw dt.get(c.wasmFailureStatus)(c.statusMsg)}else c.status.includes(ct.CONNECTION_ESTABLISHED.toString())&&(performance.measure("ClickToConnectionEstablished"),s.recordSuccessForCustomConsoleErrorMetrics())}),[c]);const m=()=>{ie()&&h(Rt)};(0,o.useEffect)((()=>{m(),Yt()||(h({type:"info",dismissible:!0,content:e.statusMessages.initializeSession.text,dismissLabel:e.flashbar.closeButtonAriaLabel.text,statusIconAriaLabel:e.flashbar.info.text}),u(),m(),ut().then((()=>{localStorage.getItem("opt-out-accessibility-improvements-flashbar")||h({type:"info",header:e.flashbar.accessibilityHeader.text,content:e.flashbar.accessibilityContent.text,action:o.createElement(Wt.A,{className:"flashbar-action-button",onClick:()=>{localStorage.setItem("opt-out-accessibility-improvements-flashbar","1"),u()},ariaLabel:e.flashbar.closePermanentlyButton.text},e.flashbar.closePermanentlyButton.text)}),u()})).catch((e=>{e instanceof tt?p(e.message):e instanceof it&&f(e.message),l({status:ct.ERROR.toString(),wasmFailureStatus:"",statusMsg:e.message}),a(new Oe(e.message))})))}),[]),(0,o.useEffect)((()=>{if(Yt())throw Q()==D.SERIAL?dt.get("SerialConsoleWasmCspNotSupported")("Using un-supported safari version"):dt.get("InstanceConnectWasmCspNotSupported")("Using un-supported safari version")}),[]);const p=e=>{switch(e){case qt.MALFORMED:return void a(new Dt(e));case qt.NOT_FOUND:return void a(new _t(e));case qt.SERVER_INTERNAL:return void a(new Ut(e));case qt.SERVER_UNAVAILABLE:return void a(new Pt(e));case qt.UNAUTHORIZED:case qt.UNAUTHENTICATED:return void a(new Gt(e));default:a(new tt(e))}},f=e=>{switch(e){case $t.INSTANCE_MALFORMED:return void a(new Ot(e));case $t.INSTANCE_NOT_FOUND:return void a(new ze(e));case $t.VPC_NOT_FOUND:case $t.SERVER_INTERNAL:case $t.SERVER_UNAVAILABLE:return void a(new qe(e));case $t.UNAUTHORIZED:case $t.UNAUTHENTICATED:return void a(new Ft(e));case $t.PRIVATE_IPV6:return void a(new rt(e));case $t.IPV6_ADDRESS_NOT_FOUND:return void a(new ot(e));default:a(new it(e))}},[E,g]=(0,o.useState)("");return(0,o.useEffect)((()=>{setTimeout((()=>{g(e.statusMessages.establishConnection.text)}),250)}),[]),o.createElement(Xt.A,{toolsHide:!0,disableBodyScroll:!0,disableContentPaddings:!0,navigationHide:!0,notifications:o.createElement(pt.tB,null),headerVariant:"high-contrast",content:o.createElement("div",{className:"container "+(t?"instance-info-hidden":"")},o.createElement(fe.Provider,{value:e},o.createElement(Nt,{storageManager:new zt,instanceId:r}),o.createElement("div",{role:"alert",className:"sr-only"},c.status===ct.INIT.toString()?E:e.console.loaded.text),c.status===ct.INIT.toString()&&o.createElement(bt,null),o.createElement(d,{className:"terminal-container",ref:i,options:{screenReaderMode:!0}}),!t&&o.createElement("div",{className:"instance-info"},o.createElement(Wt.A,{iconAlign:"right",iconName:"close",variant:"inline-icon",className:"instance-info-close",onClick:()=>{n(!0);const e=setInterval((()=>{window.dispatchEvent(new Event("resize"))}),100);setTimeout((()=>{clearInterval(e)}),1e3)},ariaLabel:e.instanceInfo.closeButton.text}),o.createElement(Ie,null))))})};n.g.process=n.g.process||{},n.g.process.env=n.g.process.env||{},document.addEventListener("DOMContentLoaded",(()=>{(async()=>{"undefined"!=typeof AWSC&&void 0!==AWSC.Feedback&&(AWSC.Feedback.setEndpoint("https://console.aws.amazon.com/feedback/submit-feedback"),AWSC.Feedback.setFolder("c13cd9a5-b858-4cfe-b3e1-5acd77fde4d6")),"undefined"!=typeof AWSC&&void 0!==AWSC.Timer&&AWSC.Timer.customerReady(),performance.measure("clickToCustomerReady"),(()=>{const e=new URLSearchParams(window.location.search);(e=>{V(e,A);const t=e.get(g);if(!z(t))throw new Error(`Instance ID in URL is invalid: ${t}`);const n=e.get(E);if(!F.includes(n))throw new Error(`Invalid connType, must be one of: ${F.toString()}`)})(e);const t=e.get(E);t===D.STANDARD?(e=>{V(e,T);const t=e.get(y);if(!$(t))throw new Error(`Invalid osUser: ${t}`);const n=e.get(I),s=parseInt(n);if(!G(s))throw new Error(`Invalid port: ${s}`);if(e.has(v)){const t=e.get(v);if(!Z(t))throw new Error(`Invalid addressFamily: ${t}`)}})(e):t===D.SERIAL?(e=>{const t="true"===e.get(S);V(e,t?k:R);const n=e.get(w),s=parseInt(n);if(!X(s))throw new Error(`Invalid serialPort: ${s}`);const r=e.get(b);if(t&&!Y(r))throw new Error(`Invalid keyboard layout: ${r}`)})(e):t===D.INSTANCE_CONNECT_ENDPOINT&&(e=>{V(e,_);const t=e.get(C);if(!B(t))throw new Error(`Instance Connect Endpoint Id in URL is invalid: ${t}`);const n=e.get(y);if(!$(n))throw new Error(`Invalid osUser: ${n}`);const s=e.get(x);if(!W(s))throw new Error(`Invalid privateIp: ${s}`);const r=e.get(I),o=parseInt(r);if(!G(o))throw new Error(`Invalid port: ${o}`);if(e.has(N)){const e=ae(),t=parseInt(e);if(!q(t))throw new Error(`Invalid maxTunnelDuration: ${t}`)}})(e)})(),(()=>{if(le)return le;const e=new u.TangerineBox,t=e.getCredentials(),n=e.getCustomContext("region"),s=new(m())({credentials:t,region:n,correctClockSkew:!0}),r=new(f())({credentials:t,region:n,correctClockSkew:!0,endpoint:ce()?"https://sshaps-gamma.us-west-2.amazonaws.com":void 0}),o=e.getEventTracker();o.emitAwsSdkMetrics(s),o.emitAwsSdkMetrics(r),le={EC2:s,EIC:r}})(),function(){let e=!1;document.addEventListener("keydown",(function(t){if(e&&"Shift"===t.key&&document.activeElement&&document.activeElement.classList.contains("xterm-helper-textarea")){let e=document.querySelector(".instance-info button");e||(e=document.querySelector("#tools-experience-ingress-container button")),e&&e.focus&&e.focus()}"Shift"===t.key&&(e=!0)})),document.addEventListener("keyup",(function(t){"Shift"===t.key&&(e=!1)}))}(),(0,s.render)(o.createElement(Vt,null,o.createElement(r.I9,null,o.createElement(pt.Nd,null,o.createElement(Zt,null)))),document.querySelector("#app"))})()}))},924:()=>{"use strict";(()=>{const e=()=>{const e=new Error("not implemented");return e.code="ENOSYS",e};if(!globalThis.fs){let t="";globalThis.fs={constants:{O_WRONLY:-1,O_RDWR:-1,O_CREAT:-1,O_TRUNC:-1,O_APPEND:-1,O_EXCL:-1},writeSync(e,s){t+=n.decode(s);const r=t.lastIndexOf("\n");return-1!=r&&(console.log(t.substring(0,r)),t=t.substring(r+1)),s.length},write(t,n,s,r,o,a){0===s&&r===n.length&&null===o?a(null,this.writeSync(t,n)):a(e())},chmod(t,n,s){s(e())},chown(t,n,s,r){r(e())},close(t,n){n(e())},fchmod(t,n,s){s(e())},fchown(t,n,s,r){r(e())},fstat(t,n){n(e())},fsync(e,t){t(null)},ftruncate(t,n,s){s(e())},lchown(t,n,s,r){r(e())},link(t,n,s){s(e())},lstat(t,n){n(e())},mkdir(t,n,s){s(e())},open(t,n,s,r){r(e())},read(t,n,s,r,o,a){a(e())},readdir(t,n){n(e())},readlink(t,n){n(e())},rename(t,n,s){s(e())},rmdir(t,n){n(e())},stat(t,n){n(e())},symlink(t,n,s){s(e())},truncate(t,n,s){s(e())},unlink(t,n){n(e())},utimes(t,n,s,r){r(e())}}}if(globalThis.process||(globalThis.process={getuid:()=>-1,getgid:()=>-1,geteuid:()=>-1,getegid:()=>-1,getgroups(){throw e()},pid:-1,ppid:-1,umask(){throw e()},cwd(){throw e()},chdir(){throw e()}}),!globalThis.crypto)throw new Error("globalThis.crypto is not available, polyfill required (crypto.getRandomValues only)");if(!globalThis.performance)throw new Error("globalThis.performance is not available, polyfill required (performance.now only)");if(!globalThis.TextEncoder)throw new Error("globalThis.TextEncoder is not available, polyfill required");if(!globalThis.TextDecoder)throw new Error("globalThis.TextDecoder is not available, polyfill required");const t=new TextEncoder("utf-8"),n=new TextDecoder("utf-8");globalThis.Go=class{constructor(){this.argv=["js"],this.env={},this.exit=e=>{0!==e&&console.warn("exit code:",e)},this._exitPromise=new Promise((e=>{this._resolveExitPromise=e})),this._pendingEvent=null,this._scheduledTimeouts=new Map,this._nextCallbackTimeoutID=1;const e=(e,t)=>{this.mem.setUint32(e+0,t,!0),this.mem.setUint32(e+4,Math.floor(t/4294967296),!0)},s=e=>this.mem.getUint32(e+0,!0)+4294967296*this.mem.getInt32(e+4,!0),r=e=>{const t=this.mem.getFloat64(e,!0);if(0===t)return;if(!isNaN(t))return t;const n=this.mem.getUint32(e,!0);return this._values[n]},o=(e,t)=>{const n=2146959360;if("number"==typeof t&&0!==t)return isNaN(t)?(this.mem.setUint32(e+4,n,!0),void this.mem.setUint32(e,0,!0)):void this.mem.setFloat64(e,t,!0);if(void 0===t)return void this.mem.setFloat64(e,0,!0);let s=this._ids.get(t);void 0===s&&(s=this._idPool.pop(),void 0===s&&(s=this._values.length),this._values[s]=t,this._goRefCounts[s]=0,this._ids.set(t,s)),this._goRefCounts[s]++;let r=0;switch(typeof t){case"object":null!==t&&(r=1);break;case"string":r=2;break;case"symbol":r=3;break;case"function":r=4}this.mem.setUint32(e+4,n|r,!0),this.mem.setUint32(e,s,!0)},a=e=>{const t=s(e+0),n=s(e+8);return new Uint8Array(this._inst.exports.mem.buffer,t,n)},i=e=>{const t=s(e+0),n=s(e+8),o=new Array(n);for(let e=0;e<n;e++)o[e]=r(t+8*e);return o},c=e=>{const t=s(e+0),r=s(e+8);return n.decode(new DataView(this._inst.exports.mem.buffer,t,r))},l=Date.now()-performance.now();this.importObject={_gotest:{add:(e,t)=>e+t},gojs:{"runtime.wasmExit":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);this.exited=!0,delete this._inst,delete this._values,delete this._goRefCounts,delete this._ids,delete this._idPool,this.exit(t)},"runtime.wasmWrite":e=>{const t=s(8+(e>>>=0)),n=s(e+16),r=this.mem.getInt32(e+24,!0);fs.writeSync(t,new Uint8Array(this._inst.exports.mem.buffer,n,r))},"runtime.resetMemoryDataView":e=>{this.mem=new DataView(this._inst.exports.mem.buffer)},"runtime.nanotime1":t=>{e(8+(t>>>=0),1e6*(l+performance.now()))},"runtime.walltime":t=>{t>>>=0;const n=(new Date).getTime();e(t+8,n/1e3),this.mem.setInt32(t+16,n%1e3*1e6,!0)},"runtime.scheduleTimeoutEvent":e=>{e>>>=0;const t=this._nextCallbackTimeoutID;this._nextCallbackTimeoutID++,this._scheduledTimeouts.set(t,setTimeout((()=>{for(this._resume();this._scheduledTimeouts.has(t);)console.warn("scheduleTimeoutEvent: missed timeout event"),this._resume()}),s(e+8))),this.mem.setInt32(e+16,t,!0)},"runtime.clearTimeoutEvent":e=>{e>>>=0;const t=this.mem.getInt32(e+8,!0);clearTimeout(this._scheduledTimeouts.get(t)),this._scheduledTimeouts.delete(t)},"runtime.getRandomData":e=>{e>>>=0,crypto.getRandomValues(a(e+8))},"syscall/js.finalizeRef":e=>{e>>>=0;const t=this.mem.getUint32(e+8,!0);if(this._goRefCounts[t]--,0===this._goRefCounts[t]){const e=this._values[t];this._values[t]=null,this._ids.delete(e),this._idPool.push(t)}},"syscall/js.stringVal":e=>{o(24+(e>>>=0),c(e+8))},"syscall/js.valueGet":e=>{e>>>=0;const t=Reflect.get(r(e+8),c(e+16));e=this._inst.exports.getsp()>>>0,o(e+32,t)},"syscall/js.valueSet":e=>{e>>>=0,Reflect.set(r(e+8),c(e+16),r(e+32))},"syscall/js.valueDelete":e=>{e>>>=0,Reflect.deleteProperty(r(e+8),c(e+16))},"syscall/js.valueIndex":e=>{o(24+(e>>>=0),Reflect.get(r(e+8),s(e+16)))},"syscall/js.valueSetIndex":e=>{e>>>=0,Reflect.set(r(e+8),s(e+16),r(e+24))},"syscall/js.valueCall":e=>{e>>>=0;try{const t=r(e+8),n=Reflect.get(t,c(e+16)),s=i(e+32),a=Reflect.apply(n,t,s);e=this._inst.exports.getsp()>>>0,o(e+56,a),this.mem.setUint8(e+64,1)}catch(t){e=this._inst.exports.getsp()>>>0,o(e+56,t),this.mem.setUint8(e+64,0)}},"syscall/js.valueInvoke":e=>{e>>>=0;try{const t=r(e+8),n=i(e+16),s=Reflect.apply(t,void 0,n);e=this._inst.exports.getsp()>>>0,o(e+40,s),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,o(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueNew":e=>{e>>>=0;try{const t=r(e+8),n=i(e+16),s=Reflect.construct(t,n);e=this._inst.exports.getsp()>>>0,o(e+40,s),this.mem.setUint8(e+48,1)}catch(t){e=this._inst.exports.getsp()>>>0,o(e+40,t),this.mem.setUint8(e+48,0)}},"syscall/js.valueLength":t=>{e(16+(t>>>=0),parseInt(r(t+8).length))},"syscall/js.valuePrepareString":n=>{n>>>=0;const s=t.encode(String(r(n+8)));o(n+16,s),e(n+24,s.length)},"syscall/js.valueLoadString":e=>{const t=r(8+(e>>>=0));a(e+16).set(t)},"syscall/js.valueInstanceOf":e=>{e>>>=0,this.mem.setUint8(e+24,r(e+8)instanceof r(e+16)?1:0)},"syscall/js.copyBytesToGo":t=>{const n=a(8+(t>>>=0)),s=r(t+32);if(!(s instanceof Uint8Array||s instanceof Uint8ClampedArray))return void this.mem.setUint8(t+48,0);const o=s.subarray(0,n.length);n.set(o),e(t+40,o.length),this.mem.setUint8(t+48,1)},"syscall/js.copyBytesToJS":t=>{const n=r(8+(t>>>=0)),s=a(t+16);if(!(n instanceof Uint8Array||n instanceof Uint8ClampedArray))return void this.mem.setUint8(t+48,0);const o=s.subarray(0,n.length);n.set(o),e(t+40,o.length),this.mem.setUint8(t+48,1)},debug:e=>{console.log(e)}}}}async run(e){if(!(e instanceof WebAssembly.Instance))throw new Error("Go.run: WebAssembly.Instance expected");this._inst=e,this.mem=new DataView(this._inst.exports.mem.buffer),this._values=[NaN,0,null,!0,!1,globalThis,this],this._goRefCounts=new Array(this._values.length).fill(1/0),this._ids=new Map([[0,1],[null,2],[!0,3],[!1,4],[globalThis,5],[this,6]]),this._idPool=[],this.exited=!1;let n=4096;const s=e=>{const s=n,r=t.encode(e+"\0");return new Uint8Array(this.mem.buffer,n,r.length).set(r),n+=r.length,n%8!=0&&(n+=8-n%8),s},r=this.argv.length,o=[];this.argv.forEach((e=>{o.push(s(e))})),o.push(0),Object.keys(this.env).sort().forEach((e=>{o.push(s(`${e}=${this.env[e]}`))})),o.push(0);const a=n;if(o.forEach((e=>{this.mem.setUint32(n,e,!0),this.mem.setUint32(n+4,0,!0),n+=8})),n>=12288)throw new Error("total length of command line and environment variables exceeds limit");this._inst.exports.run(r,a),this.exited&&this._resolveExitPromise(),await this._exitPromise}_resume(){if(this.exited)throw new Error("Go program has already exited");this._inst.exports.resume(),this.exited&&this._resolveExitPromise()}_makeFuncWrapper(e){const t=this;return function(){const n={id:e,this:this,args:arguments};return t._pendingEvent=n,t._resume(),n.result}}}})()},8982:()=>{},1976:()=>{},7790:()=>{},3776:()=>{},1638:()=>{},2668:()=>{},7965:()=>{},6089:()=>{},9368:()=>{},4688:()=>{},1069:()=>{},5340:()=>{},9838:()=>{}},r={};function o(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,loaded:!1,exports:{}};return s[e].call(n.exports,n,n.exports,o),n.loaded=!0,n.exports}o.m=s,e=[],o.O=(t,n,s,r)=>{if(!n){var a=1/0;for(d=0;d<e.length;d++){for(var[n,s,r]=e[d],i=!0,c=0;c<n.length;c++)(!1&r||a>=r)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(i=!1,r<a&&(a=r));if(i){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,s,r]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},n=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(e,s){if(1&s&&(e=this(e)),8&s)return e;if("object"==typeof e&&e){if(4&s&&e.__esModule)return e;if(16&s&&"function"==typeof e.then)return e}var r=Object.create(null);o.r(r);var a={};t=t||[null,n({}),n([]),n(n)];for(var i=2&s&&e;"object"==typeof i&&!~t.indexOf(i);i=n(i))Object.getOwnPropertyNames(i).forEach((t=>a[t]=()=>e[t]));return a.default=()=>e,o.d(r,a),r},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var s,r,[a,i,c]=n,l=0;if(a.some((t=>0!==e[t]))){for(s in i)o.o(i,s)&&(o.m[s]=i[s]);if(c)var d=c(o)}for(t&&t(n);l<a.length;l++)r=a[l],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},n=self.webpackChunk_amzn_oneclickv2_console=self.webpackChunk_amzn_oneclickv2_console||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=o.O(void 0,[96],(()=>o(4663)));a=o.O(a)})();
//# sourceMappingURL=main.js.map